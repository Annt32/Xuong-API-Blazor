@page "/invoice"
@using AppData.Entities
@using BlazorServer.IServices
@inject IInvoiceServices services
@inject NavigationManager navigation
<h3>InvoiceIndex</h3>
<table class="table">
    <thead>
        <tr>
            <th scope="col">IdInvoice</th>
            <th scope="col">UserId</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">PhoneNumber</th>
            <th scope="col">Status</th>
            <th scope="col">AdditionalFee</th>
            <th scope="col">Notes</th>
        </tr>
    </thead>
    <tbody>   
        @foreach (var item in lstinvoice)
    {
        <tr>
            <td scope="row">@item.IdInvoice</td>
            <td>@item.UserId</td>
            <td>@item.Name</td>
            <td>@item.Email</td>
            <td>@item.PhoneNumber</td>
            <td>@item.Status</td>
            <td>@item.AdditionalFee</td>
            <td>@item.Notes</td>
            <td>
                <button class="btn btn-warning" @onclick="()=>NavigateToEdit(item.IdInvoice)">Edit</button>

            </td>
        </tr>

    }
    </tbody>

</table>
@code {
    List<Invoice> lstinvoice = new List<Invoice>();
    protected override async Task OnInitializedAsync()
    {
        lstinvoice = await services.GetAllInvoiceAsync();
    }
    protected async Task NavigateToEdit(Guid id)
    {
        navigation.NavigateTo($"/Invoice/Invoice-put/{id}");
    }
}
